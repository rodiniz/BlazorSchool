@page "/Users/Save/{Id}"
@page "/Users/Save"
@attribute [Authorize]
@inject ISnackbar Snackbar
@inject NavigationManager Manager
<MudContainer MaxWidth="MaxWidth.Small" Class="pt-12 pa-4 align-center justify-center ">
<EditForm Model="_userDto" OnValidSubmit="SubmitValidForm">
    <FluentValidationValidator />
    <MudCard xs="6" Square="true" Elevation="4">
        <MudCardContent>
            <MudTextField Label="E-Mail"
                          @bind-Value="_userDto!.Email" For="@(() => _userDto!.Email)" ReadOnly="@IsReadOnly()"/>
            <MudTextField Label="Name"
                          @bind-Value="_userDto!.Name" For="@(() => _userDto!.Name)"/>

            <MudTextField Label="Address"
                          @bind-Value="_userDto!.Address" For="@(() => _userDto!.Address)"/>


            <MudDatePicker Label="BirthDate" @bind-Date="_userDto!.BirthDate" For="@(() => _userDto!.BirthDate)"/>
            
            <MudSelect T="string" Label="Role" @bind-Value="_userDto!.RoleName">
                <MudSelectItem Value="@("Teacher")" />
                <MudSelectItem Value="@("Student")" />
            </MudSelect>
        </MudCardContent>
        <MudCardActions>
            <MudButton ButtonType="ButtonType.Button" Variant="Variant.Filled" Color="Color.Secondary" Class="" OnClick="@(() => Manager.NavigateTo("/Users/List"))">Back</MudButton>
            <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto">Save</MudButton>
        </MudCardActions>


    </MudCard>
</EditForm>
</MudContainer>
