@page "/CourseCycle/List"
<MudContainer MaxWidth="MaxWidth.ExtraLarge" Class="pt-12 pa-4 align-center justify-center">
    
    <MudCard xs="6" Square="true" Elevation="4">
           <MudCardContent>
               <MudSelect T="int?" Label="Year"
                          @bind-Value="CourseCycle.Year" 
                          For="@(() => CourseCycle.Year)"
                          Variant="Variant.Outlined"
                          AnchorOrigin="Origin.BottomCenter">
                   @for (int i = DateTime.Now.Year ; i < DateTime.Now.Year+5; i++)
                   {
                       <MudSelectItem T="int?" Value="@i"/>
                   }
  
               </MudSelect>
            
           </MudCardContent>
          <MudCardActions>
                 <MudButton ButtonType="ButtonType.Button" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" OnClick="()=>ShowDialog(null)">Add Course/Teacher</MudButton>
          </MudCardActions>
      
          <MudDataGrid Items="@CourseCycle.CourseTeachers">
              <Columns>
                  <PropertyColumn Property="x => x.TeacherName"  />
                  <PropertyColumn Property="x => x.CourseName"  />
                  <TemplateColumn CellClass="d-flex justify-end">
                      <CellTemplate>
                          <MudStack Row>
                              <MudIconButton Size="@Size.Small" Variant="@Variant.Filled" Color="@Color.Primary" Icon="@Icons.Material.Filled.Edit" OnClick="()=>ShowDialog(context.Item.Id)">Edit</MudIconButton>
                              <MudIconButton Size="@Size.Small" Variant="@Variant.Filled" Color="@Color.Primary" Icon="@Icons.Material.Filled.Delete" OnClick="()=>Delete(context.Item.Id)" Title="Delete"></MudIconButton>
                          </MudStack>
                      </CellTemplate>
                  </TemplateColumn>
                   
              </Columns>
          </MudDataGrid>
          <MudCardActions>
              <MudButton ButtonType="ButtonType.Button" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto" OnClick="()=>Save()">Save Cycle</MudButton>
          </MudCardActions>
      </MudCard>

</MudContainer>